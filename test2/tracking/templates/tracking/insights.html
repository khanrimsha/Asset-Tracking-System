{% extends "base_site.html"%}


{% block title %} Dashboard 1 {% endblock title %}

{% block stylesheets %}
  {{ block.super }}
{% endblock stylesheets %}

{% block content %}
{% load plotly_dash%}
  <div class="right_col" role="main" style="background-color:rgb(0, 0, 0);">
    <!-- top tiles -->
    <div class="row tile_count">
     
      
      <div class="col-md-2 col-sm-4 col-xs-6 tile_stats_count">
        <span class="count_top"><i class="fa fa-user"></i> Total Vehicles</span>
        <div class="count green">2,500</div>
        <span class="count_bottom"><i class="green"><i class="fa fa-sort-asc"></i>34% </i> From last Week</span>
      </div>
      <div class="col-md-2 col-sm-4 col-xs-6 tile_stats_count">
        <span class="count_top"></i> </span>
        <div class="count green"></div>
        <span class="count_bottom"><i class="green"></i> </i> </span>
      </div>
      <div class="col-md-2 col-sm-4 col-xs-6 tile_stats_count">
        <span class="count_top"></i> </span>
        <div class="count green"></div>
        <span class="count_bottom"><i class="green"></i> </i> </span>
      </div>
      <div class="col-md-2 col-sm-4 col-xs-6 tile_stats_count">
        <span class="count_top"><i class="fa fa-user"></i> Total Cars</span>
        <div class="count">4,567</div>
        <span class="count_bottom"><i class="red"><i class="fa fa-sort-desc"></i>12% </i> From last Week</span>
      </div>
      <div class="col-md-2 col-sm-4 col-xs-6 tile_stats_count">
        <span class="count_top"><i class="fa fa-user"></i> Total Trucks</span>
        <div class="count">2,315</div>
        <span class="count_bottom"><i class="green"><i class="fa fa-sort-asc"></i>34% </i> From last Week</span>
      </div>
      <div class="col-md-2 col-sm-4 col-xs-6 tile_stats_count">
        <span class="count_top"><i class="fa fa-user"></i> Total Airplanes</span>
        <div class="count">7,325</div>
        <span class="count_bottom"><i class="green"><i class="fa fa-sort-asc"></i>34% </i> From last Week</span>
      </div>
    </div>
    <!-- /top tiles -->
    <div class="row" style="background-color:black;">
    <div class="col-md-12 col-sm-12 col-xs-12 " >
<form  action=' {% url "insights" %}'method="POST">
  {%csrf_token %}
  
      <label for="cars"><h3><i class="fa fa-car" style="font-size:24px;color:rgb(247, 192, 12);"> </i> Choose Vehicle:</label>
      
      <select style="color:black"  name="cars" id="cars" placeholder=" --Select--">
        <option value="" disabled selected hidden>--Select--</option>
        {% for d in drop%}
        {% if  d == val %}
        <option  disabled="true" selected > {{val}}</option>
        
        {% else %}

        <option >{{d}}</option>
        {% endif %}
       
        {% endfor %}
       
      </select>
      <input type="submit" value="View Insights" >
    </form></h3>
            </div>
    </div>
  
    <div class="row" style="background-color:black;border-style: solid;
    border-color: rgb(224, 219, 219)">
      <div class="col-md-12 col-sm-12 col-xs-12 " >
        <div class="dashboard_graph" style="background-color:black;">

          <div class="row x_title">
            <div class="col-md-6">
              <h3 style='color:white;'><i class="fa fa-clock-o" style="font-size:24px;color:yellow;"></i> Busy Period</h3>
            </div>
            <div class="col-md-6 ">
              <h3><i class="fa fa-square-o fa-pull-right" style="font-size:24px;color:yellow;"></i> </h3>
            </div>
          </div>

          <div class="col-md-9 col-sm-9 col-xs-9">
            
              <div class="{% plotly_class name='AvgActiveHourWeek'%} card" style="height:100%;width:100%">
                {% plotly_app name='AvgActiveHourWeek' ratio=0.6 %}
               
                    </div> 
           
           
        </div>

          <div class="col-md-3 col-sm-3 col-xs-3 bg-white">
            <div class="x_title">
              <h2>Top Campaign Performance</h2>
              <div class="clearfix"></div>
            </div>

            <div class="col-md-12 col-sm-12 col-xs-6">
              <div>
                <p>Facebook Campaign</p>
                <div class="">
                  <div class="progress progress_sm" style="width: 76%;">
                    <div class="progress-bar bg-green" role="progressbar" data-transitiongoal="99"></div>
                  </div>
                </div>
              </div>
              <div>
                <p>Twitter Campaign</p>
                <div class="">
                  <div class="progress progress_sm" style="width: 76%;">
                    <div class="progress-bar bg-green" role="progressbar" data-transitiongoal="60"></div>
                  </div>
                </div>
              </div>
            </div>
            <div class="col-md-12 col-sm-12 col-xs-6">
              <div>
                <p>Conventional Media</p>
                <div class="">
                  <div class="progress progress_sm" style="width: 76%;">
                    <div class="progress-bar bg-green" role="progressbar" data-transitiongoal="40"></div>
                  </div>
                </div>
              </div>
              <div>
                <p>Bill boards</p>
                <div class="">
                  <div class="progress progress_sm" style="width: 76%;">
                    <div class="progress-bar bg-green" role="progressbar" data-transitiongoal="50"></div>
                  </div>
                </div>
              </div>
            </div>

          </div>
        
          <div class="clearfix"></div>
        </div>
      </div>
    </div>

    <br />

    <div class="row"    >

      <div class="col-md-4 col-sm-4 col-xs-12" style="background-color:black;border-style: solid;
      border-color: rgb(224, 219, 219)">
        <div class="x_panel tile fixed_height_320" style="background-color:black;" >
          <div class="x_title">
            <h2 style='color:white;'><i class="fa fa-clock-o" style="font-size:24px;color:rgb(12, 247, 110);"> </i> Peak Hour</h2>
            
            <div class="clearfix"></div>
          </div>
          <div class="x_content">
            <div class="{% plotly_class name='HourGauge'%} card" style="height:100%;width:100%">
              {% plotly_app name='HourGauge' ratio=1 %}
             
                  </div>
           
          </div>
        </div>
      </div>

      <div class="col-md-8 col-sm-8 col-xs-12" style="background-color:black;border-style: solid;
      border-color: rgb(224, 219, 219)">
        <div class="x_panel tile fixed_height_320 overflow_hidden" style="background-color:black;">
          <div class="x_title">
            <h2 style='color:white;'><i class="fa fa-road" style="font-size:24px;color:yellow;"> </i> Mostly Taken Route</h2>
           
            <div class="clearfix"></div>
          </div>
          <div class="x_content">

            {{ mymap|safe }}  
          </div>
          
        </div>
      </div>


      
    </div>

    <div class="row" style="background-color:black;">

      <div class="col-md-12 col-sm-12 col-xs-12" style="background-color:black;border-style: solid;
      border-color: rgb(224, 219, 219)">
        <div class="x_panel" style="background-color:black;">
          <div class="x_title">
            <h2 style='color:white;'><i class="fa fa-clock-o" style="font-size:24px;color:rgb(235, 170, 218);"> </i> Most Active Hours</h2>
            
            <div class="clearfix"></div>
          </div>
          <div class="x_content">

            <div class="{% plotly_class name='MostActiveHour'%} card" style="height:100%;width:100%">
              {% plotly_app name='MostActiveHour' ratio=0.47 %}
             
                  </div>
          </div>
          
        </div>
      </div>
      <div class="col-md-12 col-sm-12 col-xs-12">
        <div class="x_panel" style="background-color:black;">
          <div class="x_title">
            <h2 style='color:white;'><i class="fa fa-map-signs" aria-hidden="true" style="font-size:24px;color:rgb(214, 39, 39);"></i> Most Visited Location </h2>
           
            <div class="clearfix"></div>
          </div>
          <div class="x_content">

            <div class="{% plotly_class name='MostVisitedLocation'%} card" style="height:100%;width:100%">
              {% plotly_app name='MostVisitedLocation' ratio=0.7 %}
             
                  </div>
          </div>
          
        </div>
      </div>

      <div class="col-md-12 col-sm-12 col-xs-12">

        <div class="row">

          <div class="col-md-12 col-sm-12 col-xs-12">
            <div class="x_panel" style="background-color:black;">
              <div class="x_title">
                <h2 style='color:white;'> <i class="fa fa-calendar-o"  style="font-size:24px;color:rgb(11, 11, 247);"></i> Average Active Hours <small>On Daily Basis</small></h2>
                
                <div class="clearfix"></div>
              </div>
              <div class="x_content">
                <div class="{% plotly_class name='AvgActiveHourDate'%} card" style="height:100%;width:100%">
                  {% plotly_app name='AvgActiveHourDate' ratio=0.5 %}
                 
                      </div>
              </div>
            </div>
          </div>
          

        </div>
        <div class="row">

          <div class="col-md-12 col-sm-12 col-xs-12">
            <div class="x_panel" style="background-color:rgb(0, 0, 0);">
              <div class="x_title">
                <h2 style='color:white;'> <svg width='24px' fontaria-hidden="true" focusable="false" data-prefix="fas" data-icon="gas-pump" class="svg-inline--fa fa-gas-pump fa-w-16" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path fill="rgb(252, 215, 7)" d="M336 448H16c-8.8 0-16 7.2-16 16v32c0 8.8 7.2 16 16 16h320c8.8 0 16-7.2 16-16v-32c0-8.8-7.2-16-16-16zm157.2-340.7l-81-81c-6.2-6.2-16.4-6.2-22.6 0l-11.3 11.3c-6.2 6.2-6.2 16.4 0 22.6L416 97.9V160c0 28.1 20.9 51.3 48 55.2V376c0 13.2-10.8 24-24 24s-24-10.8-24-24v-32c0-48.6-39.4-88-88-88h-8V64c0-35.3-28.7-64-64-64H96C60.7 0 32 28.7 32 64v352h288V304h8c22.1 0 40 17.9 40 40v27.8c0 37.7 27 72 64.5 75.9 43 4.3 79.5-29.5 79.5-71.7V152.6c0-17-6.8-33.3-18.8-45.3zM256 192H96V64h160v128z"></path></svg> Daily Fuel Consumed </h2>
                
                <div class="clearfix"></div>
              </div>
              <div class="x_content">
                <div class="{% plotly_class name='FuelDate'%} card" style="height:100%;width:100%">
                  {% plotly_app name='FuelDate' ratio=0.5 %}
                 
                      </div>
              </div>
            </div>
          </div>
          

        </div>
        <div class="row">


          <!-- Start to do list -->
          <div class="col-md-4 col-sm-4 col-xs-12">
            <div class="x_panel" style="background-color:black;">
              <div class="x_title">
                <h2 style='color:white;'><svg width= '24' aria-hidden="true" focusable="false" data-prefix="fas" data-icon="tachometer-alt" class="svg-inline--fa fa-tachometer-alt fa-w-18" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 576 512"><path fill="green" d="M288 32C128.94 32 0 160.94 0 320c0 52.8 14.25 102.26 39.06 144.8 5.61 9.62 16.3 15.2 27.44 15.2h443c11.14 0 21.83-5.58 27.44-15.2C561.75 422.26 576 372.8 576 320c0-159.06-128.94-288-288-288zm0 64c14.71 0 26.58 10.13 30.32 23.65-1.11 2.26-2.64 4.23-3.45 6.67l-9.22 27.67c-5.13 3.49-10.97 6.01-17.64 6.01-17.67 0-32-14.33-32-32S270.33 96 288 96zM96 384c-17.67 0-32-14.33-32-32s14.33-32 32-32 32 14.33 32 32-14.33 32-32 32zm48-160c-17.67 0-32-14.33-32-32s14.33-32 32-32 32 14.33 32 32-14.33 32-32 32zm246.77-72.41l-61.33 184C343.13 347.33 352 364.54 352 384c0 11.72-3.38 22.55-8.88 32H232.88c-5.5-9.45-8.88-20.28-8.88-32 0-33.94 26.5-61.43 59.9-63.59l61.34-184.01c4.17-12.56 17.73-19.45 30.36-15.17 12.57 4.19 19.35 17.79 15.17 30.36zm14.66 57.2l15.52-46.55c3.47-1.29 7.13-2.23 11.05-2.23 17.67 0 32 14.33 32 32s-14.33 32-32 32c-11.38-.01-20.89-6.28-26.57-15.22zM480 384c-17.67 0-32-14.33-32-32s14.33-32 32-32 32 14.33 32 32-14.33 32-32 32z"></path></svg> Speed Gauge </h2>
               
                <div class="clearfix"></div>
              </div>
              <div class="x_content">

               
                  <div class="{% plotly_class name='SpeedGauge'%} card" style="height:100%;width:100%">
                    {% plotly_app name='SpeedGauge' ratio=1 %}
                   
                        </div>
                
              </div>
            </div>
          </div>
          <!-- End to do list -->

          <!-- start of weather widget -->
          <div class="col-md-8 col-sm-8 col-xs-12">
            <div class="x_panel" style="background-color:black;">
              <div class="x_title">
                <h2 style='color:white;'><svg width='24px' fontaria-hidden="true" focusable="false" data-prefix="fas" data-icon="gas-pump" class="svg-inline--fa fa-gas-pump fa-w-16" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path fill="rgb(252, 215, 7)" d="M336 448H16c-8.8 0-16 7.2-16 16v32c0 8.8 7.2 16 16 16h320c8.8 0 16-7.2 16-16v-32c0-8.8-7.2-16-16-16zm157.2-340.7l-81-81c-6.2-6.2-16.4-6.2-22.6 0l-11.3 11.3c-6.2 6.2-6.2 16.4 0 22.6L416 97.9V160c0 28.1 20.9 51.3 48 55.2V376c0 13.2-10.8 24-24 24s-24-10.8-24-24v-32c0-48.6-39.4-88-88-88h-8V64c0-35.3-28.7-64-64-64H96C60.7 0 32 28.7 32 64v352h288V304h8c22.1 0 40 17.9 40 40v27.8c0 37.7 27 72 64.5 75.9 43 4.3 79.5-29.5 79.5-71.7V152.6c0-17-6.8-33.3-18.8-45.3zM256 192H96V64h160v128z"></path></svg> Fuel Used <small>On Week Basis</small></h2>
               
                <div class="clearfix"></div>
              </div>
              <div class="x_content">
                <div class="{% plotly_class name='FuelWeek'%} card" style="height:50%;width:100%">
                  {% plotly_app name='FuelWeek' ratio=0.8 %}
                 
                      </div>
              </div>
              
            </div>

          </div>
          <!-- end of weather widget -->
        </div>
      </div>
    </div>
  </div>
  
{% endblock content %}

{% block javascripts %}
  {{ block.super}}
  <!-- Chart.js -->
  <script src="/static/vendors/Chart.js/dist/Chart.min.js"></script>
  <!-- gauge.js -->
  <script src="/static/vendors/gauge.js/dist/gauge.min.js"></script>
  <!-- Skycons -->
  <script src="/static/vendors/skycons/skycons.js"></script>
  <!-- Flot -->
  <script src="/static/vendors/Flot/jquery.flot.js"></script>
  <script src="/static/vendors/Flot/jquery.flot.pie.js"></script>
  <script src="/static/vendors/Flot/jquery.flot.time.js"></script>
  <script src="/static/vendors/Flot/jquery.flot.stack.js"></script>
  <script src="/static/vendors/Flot/jquery.flot.resize.js"></script>
  <!-- Flot plugins -->
  <script src="/static/vendors/flot.orderbars/js/jquery.flot.orderBars.js"></script>
  <script src="/static/vendors/flot-spline/js/jquery.flot.spline.min.js"></script>
  <script src="/static/vendors/flot.curvedlines/curvedLines.js"></script>
  <!-- DateJS -->
  <script src="/static/vendors/DateJS/build/date.js"></script>
  <!-- JQVMap -->
  <script src="/static/vendors/jqvmap/dist/jquery.vmap.js"></script>
  <script src="/static/vendors/jqvmap/dist/maps/jquery.vmap.world.js"></script>
  <script src="/static/vendors/jqvmap/examples/js/jquery.vmap.sampledata.js"></script>
{% endblock javascripts %}

    